---
- name: debug | debug var
  set_fact:
    homepath: "{{lookup('env', 'HOME')}}"

- name: install zfiles
  copy: 
    src: "{{item}}"
    dest: "{{homepath}}/.{{item}}"
  with_items:
    - zlogin
    - zlogout
    - zprofile
    - zshenv
    - zshrc

- name: install zprofile
  template:
    src: zpreztorc.j2
    dest: "{{homepath}}/.zpreztorc"
 
- name: create directories
  file:
    path: "{{homepath}}/{{item}}"
    state: directory
  with_items:
    - .zsh
    - .zsh/alias.d

- name: copy aliases.sh
  copy:
    src: aliases.sh
    dest: "{{homepath}}/.zsh/aliases.sh"

- name: copy alias.d items
  copy:
    src: alias.d/{{item}}
    dest: "{{homepath}}/.zsh/alias.d/{{item}}"
    mode: 0644
    directory_mode: yes
  with_items:
    - chef.sh
    - common.sh
    - docker.sh
    - git.sh
    - grep.sh
    - ssh.sh
    - systemd.sh
    - ansible.sh

- name: install zgen
  git:
    repo: "https://github.com/tarjoilija/zgen.git"
    dest: "{{homepath}}/.zgen"
    clone: yes
    update: yes

...
# vim: ts=2 sts=1 sw=2
